<ion-header>
  <ion-toolbar class="py-2" lines="none">
    <ion-back-button
      slot="start"
      defaultHref="/receipes"
      icon="chevron-back-outline"
    >
    </ion-back-button>
    <ion-title class="ion-text-center">Recipes Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content style="background-image: url('assets/images/circlebg.svg')">
  <div wrapper>
    <img
      *ngIf="errors.indexOf(details?.image)==-1"
      src="{{IMAGES_URL}}/{{details?.image}}"
      bannerImg
    />
    <div sliderContent>
      <div sHeading>
        <h2>Title</h2>
        <span>{{details?.name}}</span>
      </div>
      <div sDesc myb>
        <h3>Description</h3>
        <p>{{details?.description}}</p>
      </div>

      <div padBox>
        <h2>Nutritions</h2>
        <ion-row>
          <ion-col size="4">
            <div circleProgress>
              <circle-progress
                [radius]="50"
                [space]="-12"
                [outerStrokeGradient]="true"
                [outerStrokeWidth]="12"
                [outerStrokeColor]="'#D80034'"
                [outerStrokeGradientStopColor]="'#D80034'"
                [innerStrokeColor]="'#F5F5F5'"
                [innerStrokeWidth]="12"
                [outerStrokeLinecap]="'butt'"
                [title]="' '+details?.protein"
                [showUnits]="false"
                [showSubtitle]="false"
                [percent]="details?.protein"
                [responsive]="true"
                [clockwise]="false"
                [titleFontSize]="'28'"
                [titleFontWeight]="'600'"
              ></circle-progress>
              <h3>Protien</h3>
            </div>
          </ion-col>
          <ion-col size="4">
            <div circleProgress>
              <circle-progress
                [radius]="50"
                [space]="-12"
                [outerStrokeGradient]="true"
                [outerStrokeWidth]="12"
                [outerStrokeColor]="'#F8C100'"
                [outerStrokeGradientStopColor]="'#F8C100'"
                [innerStrokeColor]="'#F5F5F5'"
                [innerStrokeWidth]="12"
                [outerStrokeLinecap]="'butt'"
                [title]="' '+details?.carbs"
                [showUnits]="false"
                [showSubtitle]="false"
                [percent]="details?.carbs"
                [clockwise]="false"
                [responsive]="true"
                [titleFontSize]="'28'"
                [titleFontWeight]="'600'"
              ></circle-progress>
              <h3>Carbs</h3>
            </div>
          </ion-col>
          <ion-col size="4">
            <div circleProgress>
              <circle-progress
                [radius]="50"
                [space]="-12"
                [outerStrokeGradient]="true"
                [outerStrokeWidth]="12"
                [outerStrokeColor]="'#7C56BB'"
                [outerStrokeGradientStopColor]="'#7C56BB'"
                [innerStrokeColor]="'#F5F5F5'"
                [innerStrokeWidth]="12"
                [outerStrokeLinecap]="'butt'"
                [title]="' '+details?.calories"
                [showUnits]="false"
                [showSubtitle]="false"
                [percent]="details?.calories"
                [responsive]="true"
                [clockwise]="false"
                [titleFontSize]="'28'"
                [titleFontWeight]="'600'"
              ></circle-progress>
              <h3>Calories</h3>
            </div>
          </ion-col>
        </ion-row>
      </div>

      <div sDesc myb>
        <h2>Instructions</h2>
        <div class="blog-post" [innerHtml]="details?.instructions"></div>
      </div>

      <div sDesc myb *ngIf="ingredients?.length>0">
        <h2>Ingredients</h2>
        <ion-row *ngFor="let ing of ingredients;let i=index">
          <ion-col size="12">
            <img
              *ngIf="errors.indexOf(ing?.image)==-1"
              src="{{IMAGES_URL}}/{{ing?.image}}"
              bannerImg
            />
          </ion-col>
          <ion-col size="12">
            <h4>{{ing?.name}}</h4>
            <p [innerHtml]="ing?.description" ></p>

            <div sDesc myb>
              <h3>Quantity</h3>
              <div class="flexqus">
                <div quanityIncDec>
                  <ion-icon name="remove" (click)="decrement(i)"></ion-icon>
                  <span>{{ing?.quantity}}</span>
                  <ion-icon name="add" (click)="increment(i)"></ion-icon>
                </div>
                <p class="pricebox">${{ing?.price}}</p>
              </div>
            </div>

            <div class="ion-text-center">
              <ion-button
                shape="round"
                expand="full"
                (click)="addtocart(ing?.id,i,ing?.quantity)"
                color="primary"
                >Add To Cart</ion-button
              >
            </div>
          </ion-col>
        </ion-row>
      </div>
    </div>
  </div>
</ion-content>
